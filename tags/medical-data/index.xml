<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>medical data on 从百草园到三味书屋</title><link>https://jmwyf.github.io/tags/medical-data/</link><description>Recent content in medical data on 从百草园到三味书屋</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Sat, 04 Feb 2023 10:57:02 +0000</lastBuildDate><atom:link href="https://jmwyf.github.io/tags/medical-data/index.xml" rel="self" type="application/rss+xml"/><item><title>公开重症监护数据库MIMIC代码仓库介绍</title><link>https://jmwyf.github.io/p/%E5%85%AC%E5%BC%80%E9%87%8D%E7%97%87%E7%9B%91%E6%8A%A4%E6%95%B0%E6%8D%AE%E5%BA%93mimic%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E4%BB%8B%E7%BB%8D/</link><pubDate>Sat, 04 Feb 2023 10:57:02 +0000</pubDate><guid>https://jmwyf.github.io/p/%E5%85%AC%E5%BC%80%E9%87%8D%E7%97%87%E7%9B%91%E6%8A%A4%E6%95%B0%E6%8D%AE%E5%BA%93mimic%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E4%BB%8B%E7%BB%8D/</guid><description>&lt;h1 id="公开重症监护数据库mimic代码仓库介绍">公开重症监护数据库MIMIC代码仓库介绍&lt;/h1>
&lt;h2 id="引言">引言&lt;/h2>
&lt;ul>
&lt;li>科学结果的可重复性越来越受到关注&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>；&lt;/li>
&lt;li>医疗领域进入数字化革命（本文是2017年接收），引出形成MIMIC-III数据库；&lt;/li>
&lt;li>EHR二次分析需要临床专家和数据科学家的合作，在EHR数据库上推导或者定义一些概念是需要资源的，对于没有特别强的临床背景或者数据科学技能的人来说巨大障碍；&lt;/li>
&lt;li>该文介绍MIMIC代码仓库，介绍与重症相关概念的导出以及相关假设条件等；&lt;/li>
&lt;li>公开数据已经逐渐有了，公开相应的数据代码同样重要。加速并提升未来研究的一致性以及有效性。&lt;/li>
&lt;/ul>
&lt;h2 id="代码仓库详情">代码仓库详情&lt;/h2>
&lt;ul>
&lt;li>Concepts
&lt;ul>
&lt;li>从电子病历中提取重要概念的代码。比如提取AKI的模块&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Executable documents
&lt;ul>
&lt;li>可执行的Notebooks文件，可重复的示例研究或者教程&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Community
&lt;ul>
&lt;li>建立公开讨论便于社区成员贡献&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="概念concepts">概念concepts&lt;/h3>
&lt;p>代码库中常用的概念&lt;/p>
&lt;h4 id="疾病严重程度评分severity-of-illness-scores">疾病严重程度评分Severity of illness scores&lt;/h4>
&lt;p>在回顾性数据库中难以计算&lt;/p>
&lt;ul>
&lt;li>大多都是在前瞻性实验中获取的；&lt;/li>
&lt;li>常规收集的数据缺相应元素。有些特征未纳入结构化电子病历系统，另外则是对某种情况的患者没有统一的协议来定义状态&lt;/li>
&lt;/ul>
&lt;p>目前MIMIC代码库中有：&lt;/p>
&lt;ul>
&lt;li>acute physiology score(APS)-III&lt;/li>
&lt;li>simplified acute physiology score(SAPS)&lt;/li>
&lt;li>SAPS-II&lt;/li>
&lt;li>Oxford acute severity of illness score(OASIS)&lt;/li>
&lt;/ul>
&lt;h4 id="器官衰竭organ-dysfunction-scores">器官衰竭Organ dysfunction scores&lt;/h4>
&lt;p>SOFA计算方式不同，由于GCS评分定义不同&lt;/p>
&lt;p>Sequential Organ Failure Assessment(SOFA), Logistic Organ Dysfunction system(LODS)&lt;/p>
&lt;h4 id="治疗时间time-of-treatment">治疗时间Time of treatment&lt;/h4>
&lt;p>由于数据获取的限制，许多药物和确切的治疗时间无法得出，需要根据临床经验识别其他可替代的数据&lt;/p>
&lt;ul>
&lt;li>机械通气时长：识别机械通气时长需要复杂的逻辑规则（文中图3）&lt;/li>
&lt;li>血管加压药物使用&lt;/li>
&lt;li>CRRT&lt;/li>
&lt;/ul>
&lt;h4 id="脓毒症sepsis">脓毒症sepsis&lt;/h4>
&lt;p>sepsis定义有多种版本，这里给出了&lt;em>Angus 2001，Martin 2003，Iwashyna 2014&lt;/em>三个版本&lt;/p>
&lt;h4 id="共病comorbidities">共病Comorbidities&lt;/h4>
&lt;p>给出了4个版本&lt;/p>
&lt;ul>
&lt;li>&lt;em>Elixhauser A 1998&lt;/em>&lt;/li>
&lt;li>American Health and Research Quality group（AHRQ）&lt;/li>
&lt;li>&lt;em>Quan 2005&lt;/em>&lt;/li>
&lt;li>&lt;em>Van Walraven 2009&lt;/em>&lt;/li>
&lt;/ul>
&lt;h4 id="concept指南">concept指南&lt;/h4>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/jmwyf/pichosting@master/mimicroadmap.png"
loading="lazy"
>&lt;/p>
&lt;h3 id="可执行文档">可执行文档&lt;/h3>
&lt;p>当数据和代码都公开可获取，提供一种研究可以被重现的框架，基于Rmd或notebook给出实例。&lt;/p>
&lt;ul>
&lt;li>&lt;em>Hsu 2015&lt;/em>研究复现
&lt;ul>
&lt;li>indwelling arterial catheters and their association with in-hospital mortality for hemodynamically stable patients with respiratory failure&lt;/li>
&lt;li>&lt;code>aline.ipynb&lt;/code>提取数据&lt;/li>
&lt;li>&lt;code>aline.Rmd&lt;/code>数据分析&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>教程
&lt;ul>
&lt;li>definition of CRRT&lt;/li>
&lt;li>introduction to SQL&lt;/li>
&lt;li>a step-by-step guide to selecting a study cohort&lt;/li>
&lt;li>an outline of the data-capture process&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="社区">社区&lt;/h3>
&lt;p>让研究人员和数据维护人员、临床人员共同提升代码&lt;/p>
&lt;h2 id="结论">结论&lt;/h2>
&lt;p>公开数据库的案例已经不少，为了让研究更加透明，也需要公开相应数据分析和数据处理的代码&lt;/p>
&lt;h2 id="补充">补充&lt;/h2>
&lt;ul>
&lt;li>代码库地址：https://github.com/MIT-LCP/mimic-code
&lt;ul>
&lt;li>之前以MIMIC-III为主，现在mimic-iii和mimic-iv合并在一起了&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>mimic数据库为了让研究者访问更加方便，很大一个改变室部署在云上比如google的云平台，云平台上需要big query语法来访问，所以现在代码库关于代码更新以big query为主，通过脚本转化为适合postgres语法
&lt;ul>
&lt;li>Open a terminal in the &lt;code>concepts&lt;/code> folder.&lt;/li>
&lt;li>Run &lt;a class="link" href="https://github.com/MIT-LCP/mimic-code/blob/main/mimic-iv/concepts/convert_bigquery_to_postgres.sh" target="_blank" rel="noopener"
>convert_bigquery_to_postgres.sh&lt;/a>.
&lt;ul>
&lt;li>e.g. &lt;code>bash convert_bigquery_to_postgres.sh&lt;/code>&lt;/li>
&lt;li>This file outputs the scripts to the &lt;a class="link" href="https://github.com/MIT-LCP/mimic-code/blob/main/mimic-iv/concepts/postgres" target="_blank" rel="noopener"
>postgres&lt;/a> subfolder after applying a few changes.&lt;/li>
&lt;li>This also creates the &lt;code>postgres_make_concepts.sql&lt;/code> script in the postgres subfolder.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>从代码仓库导出的概念concepts都放到&lt;code>mimic_derived&lt;/code>数据集里&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>Johnson, A. E. W., Stone, D. J., Celi, L. A. &amp;amp; Pollard, T. J. The MIMIC Code Repository: enabling reproducibility in critical care research. &lt;em>J Am Med Inform Assn&lt;/em> &lt;strong>25&lt;/strong>, 32–39 (2018).&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>《MIMIC-IV, a freely accessible electronic health record dataset》论文笔记</title><link>https://jmwyf.github.io/p/mimic-iv-a-freely-accessible-electronic-health-record-dataset%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/</link><pubDate>Tue, 17 Jan 2023 17:02:30 +0000</pubDate><guid>https://jmwyf.github.io/p/mimic-iv-a-freely-accessible-electronic-health-record-dataset%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/</guid><description>&lt;h1 id="mimic-iv-a-freely-accessible-electronic-health-record-dataset论文笔记">《MIMIC-IV, a freely accessible electronic health record dataset》论文笔记&lt;/h1>
&lt;h2 id="背景">背景&lt;/h2>
&lt;ul>
&lt;li>本文&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>首先介绍mimic项目的由来，医院数据归档系统都不是为研究设计的，难以访问以及查询；&lt;/li>
&lt;li>MIMIC从0-4发展简介；&lt;/li>
&lt;li>其他数据库简介
&lt;ul>
&lt;li>eICU-CRD，美国多中心200859例ICU记录&lt;/li>
&lt;li>AmsterdamUMCdb，荷兰单医学中心20109例患者23106次入院记录&lt;/li>
&lt;li>HiRID&lt;a class="link" href="https://hirid.intensivecare.ai/data-details" target="_blank" rel="noopener"
>Data details&lt;/a>，瑞士34000入院患者高分辨率数据（每两分钟一个数据点，712中常规手机生理数据）
&lt;ul>
&lt;li>HiRID has a higher time resolution than other published datasets, most importantly for bedside monitoring with most parameters recorded every 2 minutes&lt;/li>
&lt;li>去隐私化方法可以借鉴&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>PIC，中国12881例患者13941次儿科ICU记录&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>问题，当前数据库都只是单模态的数据或各有特点，且临床实践发展变化快，数据库需要不断更新完善；&lt;/li>
&lt;li>MIMIC-IV是当代的综合多模态数据库&lt;/li>
&lt;/ul>
&lt;h2 id="方法">方法&lt;/h2>
&lt;p>mimic-iv数据库是怎么建的？&lt;/p>
&lt;ul>
&lt;li>获取、转化、去隐私化&lt;/li>
&lt;/ul>
&lt;h3 id="获取">获取&lt;/h3>
&lt;p>BIDMC医院常规的临床数据存储在microsoft SQL中，通过VPN转移到MIT服务器的PostgreSQL，补充数据如ICD、患者死亡信息等外部导入到PostgreSQL&lt;/p>
&lt;ul>
&lt;li>队列：2008-2019，18岁以上&lt;/li>
&lt;li>床旁信息来自于MetaVision，医院EHR会通过HL7推信息到MetaVision&lt;/li>
&lt;li>外部数据主要说明DRGs和ICD是如何处理以及死亡信息如何处理
&lt;ul>
&lt;li>DRGs和ICD由于数据库跨度时间长以及不同版本，在数据库中把这些都导入了&lt;/li>
&lt;li>死亡信息通过与马萨诸塞州生命记录和统计登记处进行匹配，而非社保档案&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="转化">转化&lt;/h3>
&lt;p>转化有两条原则&lt;/p>
&lt;ul>
&lt;li>与MIMIC-III保持兼容&lt;/li>
&lt;li>尽量减少处理过程让公开数据与临床实践数据保持一致&lt;/li>
&lt;/ul>
&lt;p>数据被分为三个组：hosp、icu和note&lt;/p>
&lt;ul>
&lt;li>hosp：admission/discharge/transfer（ADT），实验室检查结果，微生物培养，处方，管理数据&lt;/li>
&lt;li>icu：患者出入量、输液、操作、记录到的观测值等&lt;/li>
&lt;li>note：出院总结和放射学报告，也创建了相对应的自由文本结构化表“实体-属性-值”&lt;/li>
&lt;/ul>
&lt;h3 id="去隐私化">去隐私化&lt;/h3>
&lt;ul>
&lt;li>遵从The Health Insurance Portability and Accountability Act（HIPAA）条款规定了18项标识符，包括姓名、地址、年龄等需要去掉&lt;/li>
&lt;li>日期移动，但时间点间距保留&lt;/li>
&lt;li>结合了两个公开的算法&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>从自由文本中移除个人健康信息（PHI）
&lt;ul>
&lt;li>两个算法都没捕捉到的，从数据库中移除？这个没写具体怎么做&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h2 id="数据记录结果">数据记录结果&lt;/h2>
&lt;p>这一部分类似传统论文的结果，详细介绍了hosp、icu、note模块里面的数据情况，对各表进行介绍&lt;/p>
&lt;h3 id="hosp">Hosp&lt;/h3>
&lt;p>首先介绍模块里主要键值以及表之间连接关系，与MIMIC-III一致&lt;/p>
&lt;p>患者基本信息：patients、admissions和transfers表&lt;/p>
&lt;ul>
&lt;li>患者时间信息，anchor_year、anchor_age、anchor_year_group这几个重要项
&lt;ul>
&lt;li>anchor_year锚定年份，由于时间都是去隐私化的平移过的，这里可以看作平移之后的参考年份&lt;/li>
&lt;li>anchor_year_group是真实年份的区间&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>患者死亡信息最多到患者出院1年为止&lt;/li>
&lt;/ul>
&lt;p>管理信息：services、poe、poe_detail表&lt;/p>
&lt;ul>
&lt;li>services 患者住院期间所受到的医疗服务
&lt;ul>
&lt;li>&lt;img src="https://cdn.jsdelivr.net/gh/jmwyf/pichosting@master/services.png"
loading="lazy"
>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>poe 医嘱录入系统：治疗和操作&lt;/li>
&lt;/ul>
&lt;p>计费信息：diagnoses_icd、procedures_icd、drgcodes、hcpcsevents&lt;/p>
&lt;p>检查结果：microbiologyevents、labevents&lt;/p>
&lt;p>药物信息：prescriptions、pharmacy、emar、emar_detail&lt;/p>
&lt;ul>
&lt;li>处方、药房信息；&lt;/li>
&lt;li>2016年部署electronic Medicine Administration Record，eMAR；&lt;/li>
&lt;li>看起来关系比较复杂使用得结合实例&lt;/li>
&lt;/ul>
&lt;h3 id="icu">ICU&lt;/h3>
&lt;p>chartevents, d_items, datetimeevents, icustays, inputevents, outputevents, and procedureevents表&lt;/p>
&lt;h3 id="note">Note&lt;/h3>
&lt;p>出院总结：&lt;/p>
&lt;ul>
&lt;li>主诉、现病史、既往病史、简要病程、体格检查和出院诊断&lt;/li>
&lt;/ul>
&lt;p>放射学报告：&lt;/p>
&lt;ul>
&lt;li>x射线、CT、MRI、超声&lt;/li>
&lt;/ul>
&lt;h2 id="技术验证结果">技术验证结果&lt;/h2>
&lt;ul>
&lt;li>完整性检查
&lt;ul>
&lt;li>数据库自身是完备的，不会出现某个患者的信息只出现一张表其他表都找不到的情况&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>一致性检查
&lt;ul>
&lt;li>数据结果与一些常识一致&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>去隐私化检查&lt;/li>
&lt;/ul>
&lt;h2 id="使用笔记">使用笔记&lt;/h2>
&lt;ul>
&lt;li>如何获取
&lt;ul>
&lt;li>参加课程&lt;/li>
&lt;li>签署data use agreement, DUA&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>代码库以及模版&lt;/li>
&lt;/ul>
&lt;h2 id="思考">思考&lt;/h2>
&lt;ul>
&lt;li>MIMIC数据库一步一步发展已经来到了第四版，很好的体现了科学研究的可持续发展。&lt;/li>
&lt;li>与MIMIC-III论文写法不同，mimic-iv对数据库构建过程写的更加详细，可操作性更高，而mimic-iii由于没有很好的把这个过程结构化抽象分成几步显得构建细节不足，而mimic-iii论文表格比较丰富，对数据库进行了一些粗粒度的介绍，mimic-iv论文没有。个人认为iv这篇论文写的更好一点。&lt;/li>
&lt;li>伴随着数据类型越来越多、数据库越来越多，数据分析人员也需要掌握更多类型数据预处理方法。面对文本、图像、波形的多模态数据分析或者在不完备数据情况下模型的不确定性成为两个相对应的研究方向。&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>Johnson, A. E. W. &lt;em>et al.&lt;/em> MIMIC-IV, a freely accessible electronic health record dataset. &lt;em>Sci Data&lt;/em> &lt;strong>10&lt;/strong>, 1 (2023).&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>Neamatullah, I. et al. Automated de-identification of free-text medical records. BMC medical informatics and decision making 8,1–17 (2008).&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>Johnson, A. E. W., Bulgarelli, L. &amp;amp; Pollard, T. J. Deidentification of free-text medical records using pre-trained bidirectional transformers. In Proceedings of the ACM Conference on Health, Inference, and Learning, 214–221 (2020).&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item></channel></rss>